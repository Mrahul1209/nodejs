<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Bookings</title>
    <!-- Font Awesome for icons (optional) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/dist/style.css">

</head>

<body>
    <header class="page-header">
        <div class="container">
            <h1>Travel Bookings</h1>
            <div class="subtitle">Manage all travel records and bookings</div>
        </div>
    </header>

    <main class="container">
        <div class="container-main">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="h4 mb-0" style="color: var(--primary-color);">
                    <i class="fas fa-list-alt me-2"></i>All Travel Records
                </h2>
                <div class="pagination-info">
                    Showing <strong>
                        <%= alltravel.length %>
                    </strong> records
                </div>
            </div>

            <% if(alltravel.length> 0) { %>
                <div class="table-container">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th scope="col">No</th>
                                <th scope="col">Full Name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Mobile</th>
                                <th scope="col">Age</th>
                                <th scope="col">Gender</th>
                                <th scope="col">From</th>
                                <th scope="col">To</th>
                                <th scope="col">Departure</th>
                                <th scope="col">Return</th>
                                <th scope="col">Travellers</th>
                                <th scope="col">Travel Type</th>
                                <th scope="col">Seat</th>
                                <th scope="col">Class</th>
                                <th scope="col">Meal</th>
                                <th scope="col">Hotel</th>
                                <th scope="col">Room Type</th>
                                <th scope="col">ID Proof</th>
                                <th scope="col">ID Number</th>
                                <th scope="col">Special Requests</th>
                                <th scope="col">Emergency Contact</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% alltravel.map((travel, index)=> { %>
                                <tr>
                                    <th scope="row" class="text-center">
                                        <span class="badge bg-secondary rounded-pill">
                                            <%= index + 1 %>
                                        </span>
                                    </th>
                                    <td><strong>
                                            <%= travel.full_name %>
                                        </strong></td>
                                    <td>
                                        <%= travel.email %>
                                    </td>
                                    <td>
                                        <%= travel.mobile_number %>
                                    </td>
                                    <td>
                                        <%= travel.Age %>
                                    </td>
                                    <td>
                                        <%= travel.Gender %>
                                    </td>
                                    <td>
                                        <%= travel.From %>
                                    </td>
                                    <td>
                                        <%= travel.to %>
                                    </td>
                                    <td>
                                        <%= travel.Departure_date %>
                                    </td>
                                    <td>
                                        <%= travel.Return_date %>
                                    </td>
                                    <td><span class="badge bg-info rounded-pill">
                                            <%= travel.Travellers %>
                                        </span></td>
                                    <td><span class="status-badge" style="background-color: #e3f2fd; color: #1976d2;">
                                            <%= travel.Travel_type %>
                                        </span></td>
                                    <td>
                                        <%= travel.seat_preference %>
                                    </td>
                                    <td>
                                        <%= travel.class %>
                                    </td>
                                    <td>
                                        <%= travel.meal %>
                                    </td>
                                    <td>
                                        <%= travel.Hotel_required %>
                                    </td>
                                    <td>
                                        <%= travel.Room_type %>
                                    </td>
                                    <td>
                                        <%= travel.ID_proof %>
                                    </td>
                                    <td><code><%= travel.ID_number %></code></td>
                                    <td><small>
                                            <%= travel.Special_requests %>
                                        </small></td>
                                    <td>
                                        <%= travel.Emergency_contact %>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-action btn-delete text-white">
                                                <a href="/deletetravel?travelId=<%= travel._id %>"
                                                    class="btn btn-action btn-delete text-white"
                                                    onclick="return confirm('Are you sure you want to delete?')">
                                                    Delete
                                                </a>
                                            </button>
                                            <button class="btn btn-action btn-edit text-white">
                                                <a href="/edittravel/<%= travel._id %>"
                                                    class="btn btn-action btn-edit text-white">
                                                    Edit
                                                </a>

                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <% }) %>
                        </tbody>
                    </table>
                </div>
                <% } else { %>
                    <div class="empty-state">
                        <div class="empty-state-icon">✈️</div>
                        <h3 class="h4 mb-3">No Travel Records Found</h3>
                        <p class="mb-4">Get started by adding your first travel booking</p>
                    </div>
                    <% } %>

                        <div class="d-flex justify-content-end mt-4">
                            <button class="btn btn-add text-white">
                                <a href="/addtravelPage" style="color: white; text-decoration: none">Add New Booking</a>
                            </button>
                        </div>
        </div>
    </main>

    <!-- Bootstrap JS (for future buttons/modals) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>